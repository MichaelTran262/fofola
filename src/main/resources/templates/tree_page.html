<html xmlns:th="http://www.w3.org/1999/xhtml">

    <head lang="en" th:replace="layout :: header (page_title='Fofola')"></head>

    <style>
        .node {
            cursor: pointer;
        }

        .node circle {
            fill: #fff;
            stroke: steelblue;
            stroke-width: 1.5px;
        }

        .node text {
            font: 10px sans-serif;
        }

        .link {
            fill: none;
            stroke: #ccc;
            stroke-width: 1px;
            opacity: 0.5;
        }

        .link.error {
            stroke: red;
        }

        .svg-content {
            top: 0;
            left: 0;
        }
    </style>

    <body>
        <div>
            <a id="home-image" href="/" style="float: left"><img src="img/home.png" width="100" height="100"></a>
            <div class="container" style="margin-top: 1%">
                <div class="white-rounded-back">

                    <div class="panel-bar">
                        <form class="form-inline" action="#" th:action="@{/tree}" method="post">
                            <label>Zadejte UUID</label>
                            <input class="text" name="uuid" type="text" th:value="${uuid}" size="33">
                            <button class="btn btn-outline-secondary btn-light" type="submit">Vypsat údaje</button>
                        </form>
                    </div>

                    <div style="clear: both"></div>
                </div>
            </div>
        </div>

        <div th:if="${tree_data != null}">

            <div id="tree_page_container">
                <div id="tree_container"></div>
                <div id="info_container">
                    <table class="table table-bordered" id="info_table">
                        <tr>
                            <td>UUID</td>
                            <td colspan="2">
                                <span id="uuid">uuid</span>
                                <button onclick="copyToClipboard('#uuid')"></button>
                            </td>
                        </tr>
                        <tr>
                            <td>Model</td>
                            <td colspan="2"><span id="model">model</span></td>
                        </tr>
                        <tr>
                            <td>Obrázek</td>
                            <td colspan="2"><a id="img_link" target="_blank">image</a></td>
                        </tr>
                    </table>

                    <table class="table table-bordered" style="margin-top: 20%">
                        <tr>
                            <td></td>
                            <td>Viditelnost</td>
                            <td>Uloženo</td>
                        </tr>
                        <tr>
                            <td>Solr</td>
                            <td><span id="vis_solr">visibility</span></td>
                            <td><div id="indexed"></div></td>
                        </tr>
                        <tr>
                            <td>Fedora</td>
                            <td><span id="vis_fedora">visibility</span></td>
                            <td><div id="stored"></div></td>
                        </tr>
                    </table>
                </div>
            </div>

            <script type="text/javascript" src="//d3js.org/d3.v3.min.js"></script>
            <script th:inline="javascript">
                /*<![CDATA[*/
                /*[+ [# th:insert="~{/js/tree.js}" /] +]*/
                /*]]>*/
            </script>
            <script>
                function copyToClipboard(element) {
                    var $temp = $("<input>");
                    $("body").append($temp);
                    $temp.val($(element).text()).select();
                    document.execCommand("copy");
                    $temp.remove();
                }
            </script>
        </div>
    </body>
</html>