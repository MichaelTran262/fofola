<html xmlns:th="http://www.w3.org/1999/xhtml">

<head lang="en">
    <th:block th:include="layout :: standard (page_title='Fofola')"></th:block>
    <script src="../js/link-donator.js"></script>
</head>

<body>
<a id="home-image" href="/"><img src="../img/home.png" width="100" height="100"></a>

<div class="container">
    <div class="white-rounded-back">
        <div class="panel-bar">

            <form class="form-inline" action="#">
                <label for="donator">Název donátoru</label>
                <select id="donator">
                    <option value="eodopen">EODOPEN</option>
                    <option value="norway">NORWAY</option>
                </select>
            </form>

            <form class="form-inline" style="float: none; padding-top: 20px; padding-left: 20%" action="#">
                <label for="mode">Režim</label>
                <select id="mode">
                    <option value="link">přidat</option>
                    <option value="unlink">odebrat</option>
                </select>
            </form>

            <form class="form-inline" style="float: none" action="#">
                <label for="enter_uuid">UUID kořene</label>
                <input class="text" id="enter_uuid" type="text" size="30"/>
                <button class="btn btn-outline-secondary btn-light" id="load_uuid_submit">Načíst uuid</button>
            </form>

            <form class="form-inline" style="float: none; margin-left: 25%"
                  action="#" enctype="multipart/form-data">
                <label for="load_button">Vyberte soubor s UUID kořenů</label>
                <label id="load_button" class="btn btn-outline-secondary btn-light" for="enter_file">Vybrat</label>
                <input type="file" name="file" id="enter_file" style="width:0; visibility:hidden; display: none"/>
                <button class="btn btn-outline-secondary btn-light" id="load_file_submit"
                        type="submit" style="visibility:hidden; display: none">
                    Načíst UUIDs ze souboru
                </button>
            </form>

            <div style="clear: both"></div>
        </div>

        <div id="link_panel" class="panel-bar">
            <form class="form-inline" action="#">
                <button class="btn btn-outline-secondary btn-light" type="submit" id="link_button">
                    Spustit process
                </button>
            </form>

            <form class="form-inline" action="#">
                <p class="form-inline"> Celkem: <span id="total"></span></p>
            </form>

            <div style="clear: both"></div>
        </div>

    </div>
</div>

<script>
    var file = document.getElementById('enter_file');
    var submit = document.getElementById('load_file_submit');
    file.onchange = function(){
        var filePath = file.value;
        var allowedExtensions = /(\.txt)$/i;
        if(!allowedExtensions.exec(filePath)){
            alert('Please upload file having extensions .txt only.');
            file.value = '';
            return false;
        }
        submit.style.display = "block";
        submit.style.visibility = 'visible';
    };
</script>
</body>
</html>
